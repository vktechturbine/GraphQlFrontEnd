{"ast":null,"code":"import _classCallCheck from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/vishal/Documents/Backend/GraphQlFrontEnd/src/pages/Feed/SinglePost/SinglePost.js\";\nimport React, { Component } from 'react';\nimport Image from '../../../components/Image/Image';\nimport './SinglePost.css';\nvar SinglePost = /*#__PURE__*/function (_Component) {\n  _inherits(SinglePost, _Component);\n  function SinglePost() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, SinglePost);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SinglePost)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      title: '',\n      author: '',\n      date: '',\n      image: '',\n      content: ''\n    };\n    return _this;\n  }\n  _createClass(SinglePost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var postId = this.props.match.params.postId;\n      console.log(postId);\n      var graphqlQuery = {\n        query: \"\\n      {\\n        post(id: \\\"\".concat(postId, \"\\\") {\\n          title\\n          content\\n          imageUrl\\n          creator {\\n            name\\n          }\\n          createdAt\\n        }\\n      }\\n  \\n  \")\n      };\n      fetch('http://localhost:3002/graphql', {\n        method: 'POST',\n        headers: {\n          Authorization: 'Bearer ' + this.props.token,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(graphqlQuery)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resData) {\n        console.log(resData);\n        if (!resData) {\n          throw new Error('Post Fetch Falied');\n        }\n        _this2.setState({\n          title: resData.data.post.title,\n          author: resData.data.post.creator.name,\n          imageUrl: resData.data.imageUrl,\n          date: new Date(resData.data.createdAt).toLocaleDateString('en-US'),\n          content: resData.data.content\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"single-post\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }\n      }, this.state.title), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }, \"Created by \", this.state.author, \" on \", this.state.date), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"single-post__image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        contain: true,\n        imageUrl: 'http://localhost:3002/' + this.state.imageUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, this.state.content));\n    }\n  }]);\n  return SinglePost;\n}(Component);\nexport default SinglePost;","map":{"version":3,"names":["React","Component","Image","SinglePost","_Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","state","title","author","date","image","content","_createClass","key","value","componentDidMount","_this2","postId","props","match","params","console","log","graphqlQuery","query","fetch","method","headers","Authorization","token","body","JSON","stringify","then","res","json","resData","Error","setState","data","post","creator","name","imageUrl","Date","createdAt","toLocaleDateString","catch","err","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","contain"],"sources":["/home/vishal/Documents/Backend/GraphQlFrontEnd/src/pages/Feed/SinglePost/SinglePost.js"],"sourcesContent":["import React, { Component } from 'react';\n\nimport Image from '../../../components/Image/Image';\nimport './SinglePost.css';\n\nclass SinglePost extends Component {\n  state = {\n    title: '',\n    author: '',\n    date: '',\n    image: '',\n    content: ''\n  };\n\n  componentDidMount() {\n    const postId = this.props.match.params.postId;\n    console.log(postId);\n    const graphqlQuery = {\n      query: `\n      {\n        post(id: \"${postId}\") {\n          title\n          content\n          imageUrl\n          creator {\n            name\n          }\n          createdAt\n        }\n      }\n  \n  `\n    }\n    fetch('http://localhost:3002/graphql', {\n      method: 'POST',\n      headers: {\n        Authorization: 'Bearer ' + this.props.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(graphqlQuery)\n    }).then(res => {\n      return res.json();\n    }).then(resData => {\n      console.log(resData);\n      if (!resData) {\n        throw new Error('Post Fetch Falied')\n      }\n\n      this.setState({\n        title: resData.data.post.title,\n        author: resData.data.post.creator.name,\n        imageUrl: resData.data.imageUrl,\n        date: new Date(resData.data.createdAt).toLocaleDateString('en-US'),\n        content: resData.data.content\n      });\n    })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  render() {\n    return (\n      <section className=\"single-post\">\n        <h1>{this.state.title}</h1>\n        <h2>\n          Created by {this.state.author} on {this.state.date}\n        </h2>\n        <div className=\"single-post__image\">\n          <Image contain imageUrl={'http://localhost:3002/' + this.state.imageUrl} />\n        </div>\n        <p>{this.state.content}</p>\n      </section>\n    );\n  }\n}\n\nexport default SinglePost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vishal/Documents/Backend/GraphQlFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/vishal/Documents/Backend/GraphQlFrontEnd/src/App.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom';\nimport Layout from './components/Layout/Layout';\nimport Backdrop from './components/Backdrop/Backdrop';\nimport Toolbar from './components/Toolbar/Toolbar';\nimport MainNavigation from './components/Navigation/MainNavigation/MainNavigation';\nimport MobileNavigation from './components/Navigation/MobileNavigation/MobileNavigation';\nimport ErrorHandler from './components/ErrorHandler/ErrorHandler';\nimport FeedPage from './pages/Feed/Feed';\nimport SinglePostPage from './pages/Feed/SinglePost/SinglePost';\nimport LoginPage from './pages/Auth/Login';\nimport SignupPage from './pages/Auth/Signup';\nimport './App.css';\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n  function App() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, App);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showBackdrop: false,\n      showMobileNav: false,\n      isAuth: false,\n      token: null,\n      userId: null,\n      authLoading: false,\n      error: null\n    };\n    _this.mobileNavHandler = function (isOpen) {\n      _this.setState({\n        showMobileNav: isOpen,\n        showBackdrop: isOpen\n      });\n    };\n    _this.backdropClickHandler = function () {\n      _this.setState({\n        showBackdrop: false,\n        showMobileNav: false,\n        error: null\n      });\n    };\n    _this.logoutHandler = function () {\n      _this.setState({\n        isAuth: false,\n        token: null\n      });\n      localStorage.removeItem('token');\n      localStorage.removeItem('expiryDate');\n      localStorage.removeItem('userId');\n    };\n    _this.loginHandler = function (event, authData) {\n      event.preventDefault();\n      _this.setState({\n        authLoading: true\n      });\n      var graphQlQuery = {\n        query: \"\\n      quer Login($email:String!, $password:String!){\\n        login(email:e, password:\\\"\".concat(authData.password, \"\\\"){\\n          token\\n          userId\\n        }\\n      }\\n\\n      \"),\n        variables: {\n          email: authData.email,\n          password: authData.password\n        }\n      };\n      fetch('http://localhost:3002/graphql', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(graphQlQuery)\n        /* body:JSON.stringify({\n          email:authData.email,\n          password:authData.password\n        }) */\n      }).then(function (res) {\n        if (res.status === 422) {\n          throw new Error('Validation failed.');\n        }\n        if (res.status !== 200 && res.status !== 201) {\n          console.log('Error!');\n          throw new Error('Could not authenticate you!');\n        }\n        return res.json();\n      }).then(function (resData) {\n        console.log(resData.data.login.token);\n        _this.setState({\n          isAuth: true,\n          token: resData.data.login.token,\n          authLoading: false,\n          userId: resData.data.login.userId\n        });\n        localStorage.setItem('token', resData.data.login.token);\n        localStorage.setItem('userId', resData.data.login.userId);\n        var remainingMilliseconds = 60 * 60 * 1000;\n        var expiryDate = new Date(new Date().getTime() + remainingMilliseconds);\n        localStorage.setItem('expiryDate', expiryDate.toISOString());\n        _this.setAutoLogout(remainingMilliseconds);\n      }).catch(function (err) {\n        console.log(err);\n        _this.setState({\n          isAuth: false,\n          authLoading: false,\n          error: err\n        });\n      });\n    };\n    _this.signupHandler = function (event, authData) {\n      event.preventDefault();\n      _this.setState({\n        authLoading: true\n      });\n      var graphQlQuery = {\n        query: \"\\n      mutation AddnewUser($email:String!,$name:String!,$password:String!){\\n        createUser(userInput:{\\n          email:$email,\\n          name:$name,\\n          password:$password\\n        }){\\n          _id,\\n          email\\n        }\\n      }\\n      \",\n        variables: {\n          email: authData.signupForm.email.value,\n          name: authData.signupForm.password.value,\n          password: authData.signupForm.name.value\n        }\n      };\n      fetch('http://localhost:3002/graphql', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(graphQlQuery)\n        /* body:JSON.stringify({\n          email:authData.signupForm.email.value,\n          password:authData.signupForm.password.value,\n          name:authData.signupForm.name.value\n        }) */\n      }).then(function (res) {\n        /*  if (res.status === 422) {\n           throw new Error(\n             \"Validation failed. Make sure the email address isn't used yet!\"\n           );\n         }\n         if (res.status !== 200 && res.status !== 201) {\n           console.log('Error!');\n           throw new Error('Creating a user failed!');\n         } */\n        return res.json();\n      }).then(function (resData) {\n        if (resData.errors && resData.errors[0].status === 422) {\n          throw new Error(\"Validation failed! make sure the email address is not used yet!\");\n        }\n        if (resData.errrs) {\n          throw new Error(\"User Creation failed\");\n        }\n        console.log(resData);\n        _this.setState({\n          isAuth: false,\n          authLoading: false\n        });\n        _this.props.history.replace('/');\n      }).catch(function (err) {\n        console.log(err);\n        _this.setState({\n          isAuth: false,\n          authLoading: false,\n          error: err\n        });\n      });\n    };\n    _this.setAutoLogout = function (milliseconds) {\n      setTimeout(function () {\n        _this.logoutHandler();\n      }, milliseconds);\n    };\n    _this.errorHandler = function () {\n      _this.setState({\n        error: null\n      });\n    };\n    return _this;\n  }\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var token = localStorage.getItem('token');\n      var expiryDate = localStorage.getItem('expiryDate');\n      if (!token || !expiryDate) {\n        return;\n      }\n      if (new Date(expiryDate) <= new Date()) {\n        this.logoutHandler();\n        return;\n      }\n      var userId = localStorage.getItem('userId');\n      var remainingMilliseconds = new Date(expiryDate).getTime() - new Date().getTime();\n      this.setState({\n        isAuth: true,\n        token: token,\n        userId: userId\n      });\n      this.setAutoLogout(remainingMilliseconds);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var routes = /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        render: function render(props) {\n          return /*#__PURE__*/React.createElement(LoginPage, Object.assign({}, props, {\n            onLogin: _this2.loginHandler,\n            loading: _this2.state.authLoading,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 13\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/signup\",\n        exact: true,\n        render: function render(props) {\n          return /*#__PURE__*/React.createElement(SignupPage, Object.assign({}, props, {\n            onSignup: _this2.signupHandler,\n            loading: _this2.state.authLoading,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 13\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 9\n        }\n      }));\n      if (this.state.isAuth) {\n        routes = /*#__PURE__*/React.createElement(Switch, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Route, {\n          path: \"/\",\n          exact: true,\n          render: function render(props) {\n            return /*#__PURE__*/React.createElement(FeedPage, {\n              userId: _this2.state.userId,\n              token: _this2.state.token,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 15\n              }\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(Route, {\n          path: \"/:postId\",\n          render: function render(props) {\n            return /*#__PURE__*/React.createElement(SinglePostPage, Object.assign({}, props, {\n              userId: _this2.state.userId,\n              token: _this2.state.token,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 15\n              }\n            }));\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 11\n          }\n        }));\n      }\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 7\n        }\n      }, this.state.showBackdrop && /*#__PURE__*/React.createElement(Backdrop, {\n        onClick: this.backdropClickHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(ErrorHandler, {\n        error: this.state.error,\n        onHandle: this.errorHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Layout, {\n        header: /*#__PURE__*/React.createElement(Toolbar, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(MainNavigation, {\n          onOpenMobileNav: this.mobileNavHandler.bind(this, true),\n          onLogout: this.logoutHandler,\n          isAuth: this.state.isAuth,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }\n        })),\n        mobileNav: /*#__PURE__*/React.createElement(MobileNavigation, {\n          open: this.state.showMobileNav,\n          mobile: true,\n          onChooseItem: this.mobileNavHandler.bind(this, false),\n          onLogout: this.logoutHandler,\n          isAuth: this.state.isAuth,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 9\n        }\n      }), routes);\n    }\n  }]);\n  return App;\n}(Component);\nexport default withRouter(App);","map":{"version":3,"names":["React","Component","Fragment","Route","Switch","Redirect","withRouter","Layout","Backdrop","Toolbar","MainNavigation","MobileNavigation","ErrorHandler","FeedPage","SinglePostPage","LoginPage","SignupPage","App","_Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","state","showBackdrop","showMobileNav","isAuth","token","userId","authLoading","error","mobileNavHandler","isOpen","setState","backdropClickHandler","logoutHandler","localStorage","removeItem","loginHandler","event","authData","preventDefault","graphQlQuery","query","password","variables","email","fetch","method","headers","body","JSON","stringify","then","res","status","Error","console","log","json","resData","data","login","setItem","remainingMilliseconds","expiryDate","Date","getTime","toISOString","setAutoLogout","catch","err","signupHandler","signupForm","value","name","errors","errrs","props","history","replace","milliseconds","setTimeout","errorHandler","_createClass","key","componentDidMount","getItem","render","_this2","routes","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","path","exact","Object","assign","onLogin","loading","onSignup","to","onClick","onHandle","header","onOpenMobileNav","bind","onLogout","mobileNav","open","mobile","onChooseItem"],"sources":["/home/vishal/Documents/Backend/GraphQlFrontEnd/src/App.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom';\n\nimport Layout from './components/Layout/Layout';\nimport Backdrop from './components/Backdrop/Backdrop';\nimport Toolbar from './components/Toolbar/Toolbar';\nimport MainNavigation from './components/Navigation/MainNavigation/MainNavigation';\nimport MobileNavigation from './components/Navigation/MobileNavigation/MobileNavigation';\nimport ErrorHandler from './components/ErrorHandler/ErrorHandler';\nimport FeedPage from './pages/Feed/Feed';\nimport SinglePostPage from './pages/Feed/SinglePost/SinglePost';\nimport LoginPage from './pages/Auth/Login';\nimport SignupPage from './pages/Auth/Signup';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    showBackdrop: false,\n    showMobileNav: false,\n    isAuth: false,\n    token: null,\n    userId: null,\n    authLoading: false,\n    error: null\n  };\n\n  componentDidMount() {\n    const token = localStorage.getItem('token');\n    const expiryDate = localStorage.getItem('expiryDate');\n    if (!token || !expiryDate) {\n      return;\n    }\n    if (new Date(expiryDate) <= new Date()) {\n      this.logoutHandler();\n      return;\n    }\n    const userId = localStorage.getItem('userId');\n    const remainingMilliseconds =\n      new Date(expiryDate).getTime() - new Date().getTime();\n    this.setState({ isAuth: true, token: token, userId: userId });\n    this.setAutoLogout(remainingMilliseconds);\n  }\n\n  mobileNavHandler = isOpen => {\n    this.setState({ showMobileNav: isOpen, showBackdrop: isOpen });\n  };\n\n  backdropClickHandler = () => {\n    this.setState({ showBackdrop: false, showMobileNav: false, error: null });\n  };\n\n  logoutHandler = () => {\n    this.setState({ isAuth: false, token: null });\n    localStorage.removeItem('token');\n    localStorage.removeItem('expiryDate');\n    localStorage.removeItem('userId');\n  };\n\n  loginHandler = (event, authData) => {\n    event.preventDefault();\n    this.setState({ authLoading: true });\n\n    const graphQlQuery = {\n      query: `\n      quer Login($email:String!, $password:String!){\n        login(email:e, password:\"${authData.password}\"){\n          token\n          userId\n        }\n      }\n\n      `,\n      variables:{\n        email : authData.email,\n        password : authData.password\n      }\n    }\n    fetch('http://localhost:3002/graphql',{\n      method:'POST',\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      body:JSON.stringify(graphQlQuery)\n      /* body:JSON.stringify({\n        email:authData.email,\n        password:authData.password\n      }) */\n    })\n      .then(res => {\n        if (res.status === 422) {\n          throw new Error('Validation failed.');\n        }\n        if (res.status !== 200 && res.status !== 201) {\n          console.log('Error!');\n          throw new Error('Could not authenticate you!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(resData.data.login.token);\n        this.setState({\n          isAuth: true,\n          token: resData.data.login.token,\n          authLoading: false,\n          userId: resData.data.login.userId\n        });\n        localStorage.setItem('token', resData.data.login.token);\n        localStorage.setItem('userId', resData.data.login.userId);\n        const remainingMilliseconds = 60 * 60 * 1000;\n        const expiryDate = new Date(\n          new Date().getTime() + remainingMilliseconds\n        );\n        localStorage.setItem('expiryDate', expiryDate.toISOString());\n        this.setAutoLogout(remainingMilliseconds);\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({\n          isAuth: false,\n          authLoading: false,\n          error: err\n        });\n      });\n  };\n\n  signupHandler = (event, authData) => {\n    event.preventDefault();\n    this.setState({ authLoading: true });\n    \n    const graphQlQuery = {\n      query:`\n      mutation AddnewUser($email:String!,$name:String!,$password:String!){\n        createUser(userInput:{\n          email:$email,\n          name:$name,\n          password:$password\n        }){\n          _id,\n          email\n        }\n      }\n      `,\n      variables:{\n        email:authData.signupForm.email.value,\n        name:authData.signupForm.password.value,\n        password:authData.signupForm.name.value\n      }\n    }\n\n    fetch('http://localhost:3002/graphql',{\n      method:'POST',\n      headers:{\n        'Content-Type':'application/json'\n      },\n      body:JSON.stringify(graphQlQuery)\n      /* body:JSON.stringify({\n        email:authData.signupForm.email.value,\n        password:authData.signupForm.password.value,\n        name:authData.signupForm.name.value\n      }) */\n    }).then(res => {\n       /*  if (res.status === 422) {\n          throw new Error(\n            \"Validation failed. Make sure the email address isn't used yet!\"\n          );\n        }\n        if (res.status !== 200 && res.status !== 201) {\n          console.log('Error!');\n          throw new Error('Creating a user failed!');\n        } */\n        return res.json();\n      })\n      .then(resData => {\n\n        if(resData.errors && resData.errors[0].status === 422 )\n        {\n          throw new Error(\"Validation failed! make sure the email address is not used yet!\");\n        }\n        if(resData.errrs)\n        {\n          throw new Error(\"User Creation failed\");\n        }\n        console.log(resData);\n        this.setState({ isAuth: false, authLoading: false });\n        this.props.history.replace('/');\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({\n          isAuth: false,\n          authLoading: false,\n          error: err\n        });\n      });\n  };\n\n  setAutoLogout = milliseconds => {\n    setTimeout(() => {\n      this.logoutHandler();\n    }, milliseconds);\n  };\n\n  errorHandler = () => {\n    this.setState({ error: null });\n  };\n\n  render() {\n    let routes = (\n      <Switch>\n        <Route\n          path=\"/\"\n          exact\n          render={props => (\n            <LoginPage\n              {...props}\n              onLogin={this.loginHandler}\n              loading={this.state.authLoading}\n            />\n          )}\n        />\n        <Route\n          path=\"/signup\"\n          exact\n          render={props => (\n            <SignupPage\n              {...props}\n              onSignup={this.signupHandler}\n              loading={this.state.authLoading}\n            />\n          )}\n        />\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n    if (this.state.isAuth) {\n      routes = (\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            render={props => (\n              <FeedPage userId={this.state.userId} token={this.state.token} />\n            )}\n          />\n          <Route\n            path=\"/:postId\"\n            render={props => (\n              <SinglePostPage\n                {...props}\n                userId={this.state.userId}\n                token={this.state.token}\n              />\n            )}\n          />\n          <Redirect to=\"/\" />\n        </Switch>\n      );\n    }\n    return (\n      <Fragment>\n        {this.state.showBackdrop && (\n          <Backdrop onClick={this.backdropClickHandler} />\n        )}\n        <ErrorHandler error={this.state.error} onHandle={this.errorHandler} />\n        <Layout\n          header={\n            <Toolbar>\n              <MainNavigation\n                onOpenMobileNav={this.mobileNavHandler.bind(this, true)}\n                onLogout={this.logoutHandler}\n                isAuth={this.state.isAuth}\n              />\n            </Toolbar>\n          }\n          mobileNav={\n            <MobileNavigation\n              open={this.state.showMobileNav}\n              mobile\n              onChooseItem={this.mobileNavHandler.bind(this, false)}\n              onLogout={this.logoutHandler}\n              isAuth={this.state.isAuth}\n            />\n          }\n        />\n        {routes}\n      </Fragment>\n    );\n  }\n}\n\nexport default withRouter(App);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}